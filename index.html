<!doctype html><html lang=ko dir=ltr><head><meta name=generator content="Hugo 0.120.3"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Pol4bear's blog</title>
<meta name=keywords content="Blog,Cyber security,IT"><meta name=description content="개인적으로 공부하는거 정리하고 있습니다. 주요 관심분야는 네트워크, 리버싱(펌웨어•윈도우) 입니다."><meta name=author content="Pol4bear"><link rel=canonical href=/><meta name=google-site-verification content="G-73Y2WPXWJK"><link crossorigin=anonymous href=/assets/css/stylesheet.5c25c975546c048d1a5600aadb48425ae1bc921a9a18fe67d6955c9535260811.css integrity="sha256-XCXJdVRsBI0aVgCq20hCWuG8khqaGP5n1pVclTUmCBE=" rel="preload stylesheet" as=style><link rel=icon href=/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-73Y2WPXWJK"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-73Y2WPXWJK",{anonymize_ip:!1})}</script><meta property="og:title" content="Pol4bear's blog"><meta property="og:description" content="개인적으로 공부하는거 정리하고 있습니다. 주요 관심분야는 네트워크, 리버싱(펌웨어•윈도우) 입니다."><meta property="og:type" content="website"><meta property="og:url" content="/"><meta property="og:image" content="/cover.jpg"><meta property="og:site_name" content="Pol4bear's blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/cover.jpg"><meta name=twitter:title content="Pol4bear's blog"><meta name=twitter:description content="개인적으로 공부하는거 정리하고 있습니다. 주요 관심분야는 네트워크, 리버싱(펌웨어•윈도우) 입니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Pol4bear's blog","url":"","description":"개인적으로 공부하는거 정리하고 있습니다. 주요 관심분야는 네트워크, 리버싱(펌웨어•윈도우) 입니다.","thumbnailUrl":"/favicon.ico","sameAs":["https://www.facebook.com/pol4bear","https://github.com/pol4bear","mailto:root@pol4.dev"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href accesskey=h title="Pol4bear's blog (Alt + H)"><img src=/apple-touch-icon.png alt aria-label=logo height=35>Pol4bear's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=/categories/ title=📄카테고리><span>📄카테고리</span></a></li><li><a href=/tags/ title=🔖태그><span>🔖태그</span></a></li><li><a href=/search/ title="🔍검색 (Alt + /)" accesskey=/><span>🔍검색</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>안녕하세요, Pol4bear 입니다 👋</h1></header><div class=entry-content>개인적으로 공부하는거 정리하고 있습니다. 주요 관심분야는 네트워크, 리버싱(펌웨어•윈도우) 입니다.</div><footer class=entry-footer><div class=social-icons><a href=https://www.facebook.com/pol4bear target=_blank rel="noopener noreferrer me" title=Facebook><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg></a><a href=https://github.com/pol4bear target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=mailto:root@pol4.dev target=_blank rel="noopener noreferrer me" title=Email><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 21" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2>토어 서버 사용기</h2></header><div class=entry-content><p>Abstract 웹페이지 등 내가 운영중인 서버를 토어 네트워크에 돌려보자.
01. 토어(Tor, The Onion Router)란? 토어는 1990년대 중반 고안된 익명 네트워크 기술로 미국의 해군 연구소에서 개발되었다. 클라이언트와 서버, 1:1 통신인 기존의 통신방식과 달리 Onion router라는 이름에서 유추할 수 있듯 3중으로 암호화되어 각 노드를 거쳐 최종적으로 서버에 도달하게 된다. 실제 통신의 내용은 클라이언트, 마지막 노드, 그리고 서버만 알 수 있다. 중간에 거쳐가는 노드는 암호화된 통신 내용과 다음 노드의 주소만 알고, 실제 통신의 내용은 클라이언트, 최종 노드, 그리고 서버만 알 수 있다(토어 네트워크를 거친 일반 HTTP 또는 HTTPS 웹사이트의 경우)....</p></div><footer class=entry-footer><span title='2023-05-10 22:24:15 +0900 KST'>2023년 5월 10일</span>&nbsp;·&nbsp;3 분&nbsp;·&nbsp;551 단어&nbsp;·&nbsp;Pol4bear</footer><a class=entry-link aria-label="post link to 토어 서버 사용기" href=/posts/tor-setup-basic/></a></article><article class=post-entry><header class=entry-header><h2>네트워크 프로그램 테스트하기</h2></header><div class=entry-content><p>Abstract 내가 짠 네트워크 프로그램에 혹시 패킷 로스가 있지는 않을까? 가상 인터페이스와 TCPReplay를 이용해서 확인해보도록 하자
01. 가상 인터페이스 추가 가상 인터페이스 또는, 더미 인터페이스는 실제 설치되어있지 않지만 마치 네트워크 인터페이스와 같은 역할을 한다.
일반 네트워크 인터페이스를 사용할 수 도 있지만, 이미 사용되고 있는 인터페이스의 경우 불필요한 트래픽들이 많이 잡히기 때문에 가상 인터페이스를 사용한다.
아래 명령어로 가상 인터페이스를 추가할 수 있다.
# 인터페이스 추가 sudo ip link add dum0 type dummy # 인터페이스 활성화 sudo ifconfig dum0 up 02 ....</p></div><footer class=entry-footer><span title='2022-06-25 18:52:22 +0900 KST'>2022년 6월 25일</span>&nbsp;·&nbsp;2 분&nbsp;·&nbsp;399 단어&nbsp;·&nbsp;Pol4bear</footer><a class=entry-link aria-label="post link to 네트워크 프로그램 테스트하기" href=/posts/how-to-test-network-program/></a></article><article class=post-entry><header class=entry-header><h2>ARM의 주소지정 방식</h2></header><div class=entry-content><p>프롤로그 ARM도 MIPS와 같이 4바이트 크기의 명령어를 사용하기 때문에 하나의 명령어로는 접근할 메모리 주소를 가져올 수 없다.
그래서, ARM은 함수와 함수 사이에 사용할 메모리를 저장해서 이 문제를 해결했다.
ARM의 주소지정 방식 Binwalk를 사용하면 바이너리에서 함수 에필로그들을 찾아낼 수 있다.
찾아낸 주소로 가보면 함수 에필로그와 다음 함수 프롤로그 사이에 명령어가 아닌 주소들이 저장되어 있는 것을 확인할 수 있다.
저장되어 있는 메모리 주소는 명령어의 위치에서 오프셋으로 접근해서 사용한다.</p></div><footer class=entry-footer><span title='2021-12-22 18:11:20 +0900 KST'>2021년 12월 22일</span>&nbsp;·&nbsp;1 분&nbsp;·&nbsp;66 단어&nbsp;·&nbsp;Pol4bear</footer><a class=entry-link aria-label="post link to ARM의 주소지정 방식" href=/posts/addressing-modes-of-arm-architecture/></a></article><article class=post-entry><header class=entry-header><h2>MIPS의 주소지정 방식</h2></header><div class=entry-content><p>프롤로그 MIPS는 4바이트 크기의 명령어를 사용한다.
하지만, 메모리 주소의 크기도 4 바이트의 크기를 가지고 있어 하나의 명령어로는 메모리 주소를 가져올 수 없다.
MIPS에서 메모리 주소를 계산하는 방식은 lui + addiu 방식과, $gp 방식이 있다.
MIPS의 주소지정 방식 lui + addiu 방식 lui + addiu 방식은 lui와 addiu 두 개의 명령어를 이용해서 메모리 주소를 계산한다.
메모리 주소를 계산하는 명령어는 다음과 같다.
# MIPS big endian lui $a0, 0x0000 3c 04 00 00 addiu $a0, 0x0000 24 84 00 00 # MIPS little endian lui $a0, 0x0000 00 00 04 3c addiu $a0, 0x0000 00 00 84 24 # lui : 피연산자를 16비트 쉬프트 연산 후 저장함 # addiu : 피연산자를 더함 $a0 레지스터는 첫번째 인자를 저장한다....</p></div><footer class=entry-footer><span title='2021-12-21 15:32:36 +0900 KST'>2021년 12월 21일</span>&nbsp;·&nbsp;2 분&nbsp;·&nbsp;363 단어&nbsp;·&nbsp;Pol4bear</footer><a class=entry-link aria-label="post link to MIPS의 주소지정 방식" href=/posts/addressing-modes-of-mips-architecture/></a></article><article class=post-entry><header class=entry-header><h2>펌웨어 정적분석하기</h2></header><div class=entry-content><p>Binwalk란? 상용 제품의 경우 제품에 들어가는 펌웨어를 홈페이지에 공개해놓은 경우가 많다.
공개된 펌웨어들을 분석해보면 대부분 바이너리 파일로 되어있다.
펌웨어같은 바이너리 파일의 경우 https://github.com/ReFirmLabs/binwalk라는 오픈소스 도구를 이용해서 분석할 수 있다.
Binwalk는 시그니처 기반으로 바이너리 파일에 어떠한 데이터들이 있는지 분석해준다.
펌웨어 구조 분석 TL-WR840N은 주요 공유기 제조사 중 하나인 TP-Link의 공유기다.
해당 공유기의 펌웨어를 binwalk로 분석하면 U-Boot 버전 정보와 커널 이미지, 그리고 다수의 압축 데이터를 발견할 수 있다.
‘-A’ 옵션을 활용, 아키텍처별 명령어 시그니처를 검색해 해당 공유기가 MIPS 아키텍처인 것을 알 수 있다....</p></div><footer class=entry-footer><span title='2021-12-20 13:38:36 +0900 KST'>2021년 12월 20일</span>&nbsp;·&nbsp;2 분&nbsp;·&nbsp;250 단어&nbsp;·&nbsp;Pol4bear</footer><a class=entry-link aria-label="post link to 펌웨어 정적분석하기" href=/posts/reversing-embedded-device-3/></a></article><footer class=page-footer><nav class=pagination><a class=next href=/page/2/>다음 페이지&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href>Pol4bear's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>